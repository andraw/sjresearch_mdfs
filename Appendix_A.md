# Appendix A: Error Messages Given by BBC Microcomputers

This section describes messages reported by the BBC Microcomputer in response to network-related errors,with their probable causes. Most of the error messages are generated by the File Server, but a few (No Clock, Not listening, No reply, Line jammed and Net Error) can be caused by network hardware or local software problems. In this case, see also Section 9.4, which gives a fault-finding guide.

To find out the number of any error as given by the BBC Microcomputer, type ```PRINT ~ ERR.```  (Remember that "Escape" is usually an error too). ```REPORT``` will print the text of the last error message.

Although the error numbers given below are those returned by the File Server, they are not necessarily the numbers finally seen by the user's program (the variable ERR in Basic, for example). Any error number
returned from the File Server which is less than &A8 will be converted to &A8 by the local Net Filing System, although calling OSWORD with A=&13 and reason code=10 will give the actual value (See Chapter 10). Locally generated errors (see the list above) will not be subject to this translation.

Some of the less common errors do not produce an explanatory message but instead produce 'FS unusual error xx', where xx is the hexadecimal error number.

SJ Research File Servers use the same error numbers as Acorn for corresponding errors, but will also use additional ones in connection with the further features offered.

In the list below, the error number is given in hexadecimal.

## A.1 Network Related Error Messages generated locally
```
Line jammed Error                         AO (Decimal 160)
```
The **Line jammed** or **Net error** messages will occur for one of two reasons. First, there could be a fault in the network terminator (check that no-one has unplugged it!) or in the line itself: this is unlikely if the network has worked in the past, unless there has been some mechanical damage to the cable. Second, there may be a fault in one of the computers on the network, or in the connecting leads. Unplug computers one at a time until it is possible to communicate again. If the problem occurs on only one computer, suspect that particular machine, which could have a fault in its network interface. See Section 9.4 for further information


```
Net Error                           Error Al (Decimal 161)
```
**Net error** tends to be caused by similar things to Line Jammed, see the explanation of **Line jammed** (Error AO) above. In addition, Net error can be caused by sending a data packet which is too large for the system. An example is the use of *NOTIFY with a line of more than 80 characters.


```
Not listening                       Error A2 (Decimal 162)
```
The "Not listening" message is given when the station to which you are trying to talk is either non-existent, protected with the command \*PROT, switched off, or busy. A non-spooling printer server will not listen if it is already printing someone else's output: you will have to wait until it is ready for you. Printer servers may also not respond if they require users to have access to a particular account, or to be logged on to an appropriate File Server.

If you get "Not listening" after a \*I AM command, try logging on to the full File Server number (usually \*I AM 0.254 \<user id>. If this does not work then check with the person in charge of the network that the File Server is running. The BBC Microcomputer expects the File Server to be on Station Number 0.254 unless you tell it otherwise (some games and similar software can accidentally do that). If you wish to use a
different File Server, or to change back to File Server 0.254, you will have to tell the computer explicitly. See section 3.4 for details, also Section 9.4 for further information on network debugging.


```
No clock                            Error A3 (Decimal 163)
```
There are three possible causes of this message. First, and most likely, the computer is not plugged into the network. Check that the Econet plug in the back of the computer is plugged in firmly, and that the other end of the lead is plugged into the wall socket or cable adaptor that connects to the network.

Second, there must be (only) one clock in the network. It is possible that it has been unplugged from the mains or from the network, or that there is a fault in the clock unit. Check that it is plugged in correctly. If this is not the problem, connect the clock unit to only one BBC  Microcomputer. Press N and BREAK as before on this machine: if the "No Clock" message still appears, suspect the clock unit.

Third, there is a fault on the network line itself. This is unlikely to happen if the network has functioned before, but could happen as a result of mechanical damage to the cable, or a fault in one of the machines attached to the network, or in one of the network terminators. Remove these items one by one until there is no "No Clock" message when you press N and BREAK. (Note that the message will not change on its own:
you have to press N and BREAK).


```
Station nnn.xxx not present         Error A4 (Decimal 164)
```
An error message from an Acorn computer with the advanced network filing system ROM indicating that the last file server command was sent to a file server which either did not exist or was not on line.


```
No reply                            Error A5 (Decimal 165)
```
The "No reply" message will occur if a filing operation fails in the middle of the operation. This error will occur if the file server runs out of space in the %PRINTQ directory whilst print spooling.


## A.2 File Server Errors reported as Error A8 (Decimal 168)
```
Password file changed               FS Error 03 (Decimal 3)
```
A user has attempted to set a password (using *PASS) or boot option (using *OPT 4), and the password file has been edited since the user logged on.


```
Bad number                          FS Error 04 (Decimal 4)
```
A number has been incorrectly specified. The number may be in the wrong base, larger than the maximum value allowed, or simply not supplied at all.


```
Key locked                          FS Error 05 (Decimal 5)
```
Only occurs if a system privileged user attempts to use a system privileged command when the front panel key-switch is not in the "SYST" position. Only appropriate to Hard Disc and Modular Disc File Servers.


```
Too short                           FS Error 06 (Decimal 6)
```
If the system manager has set the appropriate flag in their password file entries, users are prevented from SAVEing files shorter than 16 bytes. This is in order to guard against the possibility of pressing \<Break> before saving a program, and then saving a null program over the previous copy, for example. If it is necessary to create a short file, this may be done by means of OPENOUT and BPUT (see Section 3.4).

It is possible to save short files by typing ***ENABLE** (conversely typing ***DISABLE** will prevent files under 16 bytes being saved). When you logoff this will be reset to the one in your own passport file.


```
Circular RENAME                     FS Error 07 (Decimal 7)
```
Whilst directories may be renamed into other directories, it is not possible to rename a directory into itself or one of its sub-directories as this would create a circular structure of directories.


```
Printer busy with station xxxx      FS Error 09 (Decimal 9)
```
Generated by ***PRINTOUT**, if a non-spooling logical printer is not free.


```
Not authorised to use printer       FS Error OA (Decimal 10)
```
Generated by ***PRINTOUT**, if the system manager has restricted the use of this logical printer to holders of a certain account (See Section 4.3, EDITPRINT program)


```
File too big                        FS Error 35 (Decimal 53)
```
Files may not exceed 8 Megabytes in length.


```
Illegal attribute                   FS Error 46 (Decimal 70)
```
An attempt has been made to set an illegal combination of attribute bits: setting read or write access to a directory, for example.

 
```
Bad ARG to examine                  FS Error 4F (Decimal 79)
```
The argument to one of the examine (catalogue) calls is out of range.


```
Bad ARG to read arguments          FS Error 6D (Decimal 109)
```
The argument to the call to read random access information is out of range.


```
Not supported                      FS Error 85 (Decimal 133)
```
The File Server function code is not one of the recognised values.


```
Bad time                           FS Error 90 (Decimal 144)
```
The set time function has been called with a time or date that is invalid (eg. 32nd August).


```
File Server Offline                FS Error A2 (Decimal 162)
```
The File Server is offiine and waiting to be booted up, or taking a backup, in Utility Mode.

## A.3 The following File Server Errors are reported with their correct Error numbers
Note that some of the errors have the same error number, depite having different text messages. This is to assist compatibility with Acorn and other systems -- the error number has been made the same as an existing one, when the action required (by a program, for example) to recover from the error would be similar. For example, **Disc full** and **Account xxx bankrupt** would typically require space to be made by deleting something, hence these both have error number C6.

```
Error A8 (Decimal 168)
```
"Catch-all" error number, see A.2 above.


```
Not logged on                         Error AE (Decimal 174)
```
The specified user is not logged on to this File Server. This error arises from utilities such as \*NOTIFY FRED.


```
Renaming across discs                 Error BO (Decimal 176)
```
It is not possible to transfer a file from one disc to another by use of \*RENAME. The standard method for renaming a file between discs is to copy the file (using COPIER) and then to delete the old copy. 


```
Directory full                        Error B3 (Decimal 179)
```
A directory may not contain more than 255 entries.


```
Directory not empty                   Error B4 (Decimal 180)
```
It is not possible to delete a directory unless it is empty (ie. contains no files or sub-directories).


```
xxxx is not a file                    Error B5 (Decimal 181)
```
It is not possible to LOAD a directory or to open it for output. While is is possible to open a directory for input, any attempt to use BGET will cause this error (see \*ACCESS in Section 3.4). The error may also be caused by an attempt to create a file of the same name as an existing directory.


```
Too many users                        Error B8 (Decimal 184)
```
The File Server has a maximum number of users (typically 60). The File Server will not log stations off automatically, so it would be possible to log on, then at some stage change the station number. The File Server user list would then contain a user logged on at a non-existent station. The solution is to either stop and re-start the File Server, or use \*LOGOFF (see section 4.3) to remove stations from stations from the list.


```
Bad password                          Error B9 (Decimal 185)
```
Passwords have the same restrictions as file names concerning illegal characters. In addition, no wildcards are allowed.


```
Insufficient privilege                Error BA (Decimal 186)
```
This error occurs when a user without system privilege attempts to perform some privileged operation, such as editing the password file. This error can also be caused by a user attempting to change his password or boot option, if this has been prohibited by the system manager.


```
Wrong password                        Error BB (Decimal 187)
```
The password specified in the \*I AM or \*PASS command does not match that stored in the password file.


```
User not known                        Error BC (Decimal 188)
```
If a user attempts to log on, and his user identifier does not appear in any password file in the system, and no default user has been set by the system manager, then this error will be produced. It is most commonly a result of mis-spelling the user identifier.


```
Insufficient access                   Error BD (Decimal 189)
```
The user does not have sufficient access to the file or directory in question. If the main or auxiliary account numbers occur in the list of accounts associated with the user he has 'Owner' access, otherwise he has 'Public' access. Random access reading or writing of files is  controlled by the Wand R access attributes: those before the stroke apply to owners and those after the stroke to public users (see \*ACCESS in Section 3.2).

To create a new file, the user must have owner access to the directory in which it is to be created. To SAVE a file over one of the same name, owner access is required to the file and it must not be locked CL attribute), but the W and R attributes are not checked.  Users may check the access attributes and account numbers of files or directories by use of \*INFO (the accounts are the last two items displayed), and may check their own list of accounts by use of the
\*STATEMENT utility.


```
Not enabled                           Error BD (Decimal 189)
```
The system manager can set an option to require a user to type \*ENABLE before using \*DELETE with a wild card. This is to prevent inexperienced users from deleting files accidentally. Once *ENABLE has been typed, its effect remains until *DISABLE is used, or until the user logs on again.


```
xxx x is not a directory              Error BE (Decimal 190)
```
The name of a file has been specified in a context where a directory is required - for a catalogue or as the directory to search for a file (e.g. in a \*DIR command). 

```
Who are You?                          Error BF (Decimal 191)
```
The user is not logged on to the File Server, and should use the *I AM command to log on.


```
Too many files open                   Error CO (Decimal 192)
```
There are 8 channels available, of which two are permanently allocated to the Library and User Root Directory. In addition, the currently selected directory may require one, and another is required during the execution of the \*DIR command. The remainder may be used for random access files.


```
File not open for update              Error C1 (Decimal 193)
```
The random access file in question has been opened for reading only (e.g. using OPENIN from BASIC), followed by an attempt to write to the file.


```
Already opened by xxxx                Error C2 (Decimal 194)
```
The file or directory has already been opened by the specified user (and possibly by others). It is not possible to delete files or directories which are open, nor to write to files. It is possible to read files which are already open, so long as they have been opened for input only. Note that each user is considered to have opened his User Root Directory, Library, and Currently Selected Directory.


```
Locked                                Error C3 (Decimal 195)
```
An attempt has been made to DELETE, SAVE over, OPENOUT over or RENAME a file or directory which is locked (access L is set). Use \*ACCESS \<name> -L to unlock it.


```
Already exists                        Error C4 (Decimal 196)
```
An attempt to RENAME a file when a file already exists with the new name is not allowed.


```
Disc full                             Error C6 (Decimal 198)
```
There is insufficient free space on the disc. Note that there may be unexpected overheads if saving a file requires a directory to be extended, and that a file longer than 16K incurs an overhead of lK for each S12K of extent. It is possible to create files of large extent where the data blocks do not all exist - unwritten blocks will read back as zeros, and disc space must be found when they are first written. All disc space allocation is in units of IK.


```
Account xxxx bankrupt                 Error C6 (Decimal 198)
```
The account to be charged for the current operation does not hold sufficient credit. Accounts are charged in the same way as disc space is allocated: see notes under 'Disc Full' concerning overheads. When a file is created, it is charged to the account of the directory in which it exists. If \* ACCOUNT is used subsequently to change the account, the disc space taken by the file will be charged to the new account and re-credited to the old; the space taken by the directory entry is still charged to the account of the directory.


```
Drive Error                           Error C7 (Decimal 199)
```
A media error occured while trying to read the disc or tape. Disc errors have serious consequences for the integrity of the system and should be reported to the system manager immediately, as they may indicate an impending problem with the disc or disc drive.


```
Disc changed                          Error C8 (Decimal 200)
```
The disc has been changed, on a Floppy Disc (or RM380Z) File Server. Log on again with \*I AM. (This error is never generated by SJ Research File Servers, since "Who are you?" is more helpful.)


```
Drive read only                       Error C9 (Decimal 207)
```
There are four possible reasons for this error. On a floppy disc, this error can be caused by a write protect tab on the disc to which the user is attempting to write. (If the system manager is going to remove the tab, he must go through the normal disc changing procedure). On any type of disc this error may indicate that the File Server has not finished scanning the directory when booting the disc as a consequence of the directory scan failing as a result of a corrupt directory structure (this will be accompanied by the message Bad backpointer on drive n or Wrong number of files in DIR). The fourth possible reson is that you are tying to write to the tape whilst using %TAPE.


```
Bad name                              Error CC (Decimal 204)
```
The filename used is illegal. Filenames may not contain the characters $ % . A & or : except where they are used for their special meanings - see Section 3.1.2. Characters above 126, control characters and spaces are not allowed at all.


```
Bad wildcard                          Error CC (Decimal 204)
```
A wildcard character has been used where this is not allowed. Wildcards are not allowed in the filename used to create a file (although they may always appear in the directory name), or in passwords. This error will also occur if the number and types of wildcards do not match in the two filenames in a \*RENAME command. You will also get this error if you try a wildcard delete on a Master series mircocomputer; to get round this type \*\DELETE .


```
Bad attripute                         Error CF (Decimal 207)
```
One of the attributes specified in a * ACCESS command is not one of the pennitted attributes M P D L / W orR.


```
xxx not found                         Error D6 (Decimal 214)
```
The specified file, disc or directory could not be found. Note that this error will be caused if you try to gain access to someone else's file which has been set to Private in the \*ACCESS command.


```
Channel                               Error DE (Decimal 222)
```
The channel number specified does not refer to a file which is open. This error can be caused by closing a file channel too soon, but the most common reason is that the 'context handles' have been lost in the client machine. These handles are required for almost all File Server operations, and can be lost by switching off the computer, or using software which overwrites memory illegally (many games do this!), or due to various bugs in the Acorn NFS ROM. The solution is to log on again with \*I AM xxx.


```
EOF                                   Error DF (Decimal 223)
```
An attempt has been made to read data beyond the end of a file.


```
Bad string                            Error FD (Decimal 253)
```
The text string supplied is illegal, due to mis-matched quotes or an incomplete | (bar) sequence.

Issue 21 Apr 1987
**SJ**research 
